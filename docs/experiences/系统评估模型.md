高可用、高性能、高并发、高质量、可运维性、可伸缩性、安全性

## 一、高可用
> 高可用是系统的基本要求，至少做到同地域双机房的高可用。
1. 系统本身是否做到高可用。
2. 所依赖系统是否做到高可用。如果所依赖系统满足高可用，那么我们系统本身是否需要特殊的设置才能够利用到所依赖系统的高可用（比如不同机房访问不同的域名等）。
3. 所依赖中间件是否做到了高可用。mysql、redis、rocketmq等。
4. 是否考虑了接入层的高可用。
5. 是否对系统的高可用做了演练。公司的混沌工程项目。
6. 超时机制。
7. 降级机制。
8. 限流机制。
9. 熔断机制。

## 二、高性能
> 这里主要强调的是单机性能，意在节省资源。
1. servlet容器的线程池设置是否合理。过大或者过小都不可取，一是需要根据压测逐步获取最优的设置，二是要找有经验的资深研发进行评估。
2. 数据库连接池的设置是否合理。
3. redis连接池的设置是否合理。
4. 是否合理的使用了异步等手段加速处理请求，以提高系统性能。
5. 是否合理的使用了缓存。
6. 是否合理使用了多线程。
7. 是否合理的对数据源做了读写分离（且读的是本机房的数据源）。
8. 对框架和类库的选择是否合理。比如：典型的json序列化框架；日志框架的选择与设置（log4j2并开启全异步是目前性能最好的日志框架选择，对性能要求不高的系统直接使用springboot默认的logback即可）。

## 三、高并发
> 对于需要支持高并发的系统，上线之前需要做压力测试。
1. 系统是否需要支持高并发。对需要支持高并发的系统，以压力测试结果作为主要的参考依据。
2. 高并发的设计方案设计是否合理。比如，票务系统有秒杀活动，需要评估开启一个票品的秒杀活动需要多少人力参与。

## 四、高质量
> 主要是指代码质量。代码质量的评估主要发生在codereview环节。也包括设计文档的完备性和质量。
1. 是否存在潜在的高并发问题。
2. 代码的可读性。
3. 量化指标：千行代码bug数。这个存疑。
4. 异常处理是否完善。
5. 是否遵循了团队内的开发规范。
6. 数据库sql是否合理。

## 五、可运维性
### 定义
分布式系统的可运维性发生在运维人员对系统进行运维操作的阶段，主要考虑运维操作的难易程度、运维操作的可控性等。

### 原则
1. 任何组件和依赖都有可能出异常，都可能在任意时间停止服务，需要优雅的处理各类异常和故障。即面向异常编程。
2. 保持简单。做简单的事情容易做正确，避免不必要的依赖，组件和服务之间需要有隔离措施。
3. 尽可能自动化。

### 具体措施
0. 要充分利用公司的整体技术解决方案。
1. 为运维考虑设计。在设计、开发阶段就要考虑系统运维的各种情况。
比如：系统崩溃时候，是否能够保留事故现场信息；应用部署的方便性，尽肯能少的对操作系统有依赖（虚机、容器均能部署）；
能主动下线某个机器（我们根据健康检查机制，简单的开发了自动下线接口）；有简单的机制对系统进行健康检查；
运维脚本和工具随代码一起管理和发布。

2. 自动化管理
    > 一个基本自动化的系统比一个基本人工处理的系统，在人力成本上节省近2个数量级。
   
3. 日志、监控和报警。

日志打印是否完善（全链路日志、日志关键上下文信息）；
日志收集是否完整（网关日志、业务日志）；
日志打印的滚动策略是否合理（避免将磁盘打满）；

系统级监控、服务级监控（整个服务）、应用级监控（单个实例）。

报警阈值设置是否合理（报警正确率接近100%，误报率接近0%）。


[复杂分布式系统的可运维性设计](https://sq.163yun.com/blog/article/200748188874764288)

## 六、可伸缩性
> 系统的性能是否能够随着机器数量的增加而线性增长。
1. 应用是否是无状态的？
2. 随依赖的数据源，最多能支持多大的并发？即可伸缩的极限是多少？

## 七、安全性
1. 接口幂等性设计。
2. 受限资源是否需要登录校验。
3. 是否有必要开启https，以及是否开启了https并禁用了http。
4. 接口加签机制。时间戳过期时间设计；加签key的保密性。