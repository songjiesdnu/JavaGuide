[【原创】为什么Redis集群有16384个槽](https://www.cnblogs.com/rjzheng/p/11430592.html)

CRC16算法产生hash值有16个bit，也就是可以产生65536个值，那为什么redis-cluser不分配65536个槽位呢？

简单总结，有三点：

1、redis集群节点需要通过发送心跳消息报交换数据，交换的数据报文头里会包含该节点所拥有的槽信息，用bitmap存储。
如果是分配65536个槽位，则bitmap需占用8k个字节（65536/8/1024=8kb），如果是分配16384个槽位，则需要2kb个字节。
8kb相对于2kb已经多了4倍。

2、redis-cluster集群主节点数越多，则节点间心跳消息越多，更大的消息头更容易造成网络拥塞。
适当降低槽位数量，能够减少心跳包的大小，从而集群里主节点数可以更多。16384个槽位是比较好的一个平衡点。

3、槽位越小，在集群节点数固定的情况下，心跳包的压缩率也会更高一点。



