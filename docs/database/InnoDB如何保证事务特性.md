[InnoDB如何保证事务特性](https://www.toutiao.com/a6745765002562519556/)

redo log重做日志用来保证事务的持久性

undo log回滚日志用来保证事务的原子性

redo log + undo log 用来保证事务的一致性

锁用来保证事务的隔离性


=================
## 为什么不直接将数据写入磁盘，而是写入redo log？
参考：[redo log —— MySQL宕机时数据不丢失的原理](https://juejin.im/post/5e8ca55fe51d4546e8575f67)

首先引入 redo log 机制是十分必要的。因为写 redo log 时，我们将 redo log 日志追加到文件末尾，虽然也是一次磁盘 IO，但是这是顺序写操作（不需要移动磁头）；而对于直接将数据更新到磁盘，涉及到的操作是将 buffer pool 中缓存页写入到磁盘上的数据页上，由于涉及到寻找数据页在磁盘的哪个地方，这个操作发生的是随机写操作（需要移动磁头），相比于顺序写操作，磁盘的随机写操作性能消耗更大，花费的时间更长，因此 redo log 机制更优，能提升 MySQL 的性能。

从另一方面来讲，通常一次更新操作，我们往往只会涉及到修改几个字节的数据，而如果因为仅仅修改几个字节的数据，就将整个数据页写入到磁盘（无论是磁盘还是 buffer pool，他们管理数据的单位都是以页为单位），这个代价未免也太了（每个数据页默认是 16KB），而一条 redo log 日志的大小可能就只有几个字节，因此每次磁盘 IO 写入的数据量更小，那么耗时也会更短。
综合来看，redo log 机制的引入，在提高 MySQL 性能的同时，也保证了数据的可靠性。
